---
// src/components/sections/ClientLogos.astro
// Client Logos - Infinite Scroll Marquee
import AnimateOnScroll from '../ui/AnimateOnScroll.astro';

interface Props {
  locale: 'id' | 'en';
  title: string;
  brands: string[];
}

const { locale, title, brands } = Astro.props;
---

<section class="relative py-16 bg-gray-50 overflow-hidden" id="client-logos">
  <!-- Animated Background -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <!-- Grid Pattern -->
    <div class="absolute inset-0 opacity-[0.03]">
      <div class="absolute inset-0 bg-[linear-gradient(to_right,#0891b2_1px,transparent_1px),linear-gradient(to_bottom,#0891b2_1px,transparent_1px)] bg-[size:60px_60px] animate-grid-pan"></div>
    </div>

    <!-- Floating Gradient Orbs -->
    <div class="absolute top-20 left-20 w-[300px] h-[300px] bg-gradient-to-br from-cyan-200/20 to-teal-200/20 rounded-full blur-3xl animate-float"></div>
    <div class="absolute bottom-20 right-20 w-[400px] h-[400px] bg-gradient-to-tr from-blue-200/20 to-cyan-200/20 rounded-full blur-3xl animate-float" style="animation-delay: -4s"></div>
  </div>

  <div class="relative z-10">
    <!-- Section Title -->
    <div class="max-w-7xl mx-auto px-6 lg:px-8 mb-8 text-center">
      <AnimateOnScroll animation="fade-up" delay={0} duration={700}>
        <h3 class="text-2xl font-bold text-gray-700">
          {title}
        </h3>
      </AnimateOnScroll>
    </div>

    <!-- Marquee Track -->
    <div class="relative overflow-hidden">
      <!-- Fade Edges -->
      <div class="absolute inset-y-0 left-0 w-32 bg-gradient-to-r from-gray-50 to-transparent z-10"></div>
      <div class="absolute inset-y-0 right-0 w-32 bg-gradient-to-l from-gray-50 to-transparent z-10"></div>

      <div class="flex items-center gap-16 animate-marquee hover:pause-marquee">
        {/* First set */}
        {brands.map((brand, i) => (
          <div key={i} class="flex-shrink-0 text-3xl font-black text-gray-300 hover:text-cyan-600 transition-colors cursor-default">
            {brand}
          </div>
        ))}

        {/* Duplicate set for seamless loop */}
        {brands.map((brand, i) => (
          <div key={`dup-${i}`} class="flex-shrink-0 text-3xl font-black text-gray-300 hover:text-cyan-600 transition-colors cursor-default">
            {brand}
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes float {
    0%, 100% {
      transform: translateY(0px) scale(1);
    }
    50% {
      transform: translateY(-30px) scale(1.1);
    }
  }

  @keyframes grid-pan {
    0% {
      transform: translateX(0) translateY(0);
    }
    100% {
      transform: translateX(-30px) translateY(-30px);
    }
  }

  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .animate-float {
    animation: float 8s ease-in-out infinite;
  }

  .animate-grid-pan {
    animation: grid-pan 15s ease-in-out infinite alternate;
  }

  .animate-marquee {
    animation: marquee 30s linear infinite;
  }

  .hover\:pause-marquee:hover {
    animation-play-state: paused;
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    .hover\:pause-marquee:hover {
      animation-play-state: running;
    }
  }
</style>
