---
// src/components/sections/Hero.astro
// Hero Section with Animated Background

interface Props {
  locale: 'id' | 'en';
  data: {
    badge: string;
    title: string;
    subtitle: string;
    cta: string;
  };
  contactUrl: string;
}

const { locale, data, contactUrl } = Astro.props;
---

<!-- Hero Section - Animated & Engaging -->
<section class="relative h-[100dvh] flex items-center justify-center overflow-hidden hero-section" id="hero">
  <!-- Animated Gradient Background -->
  <div class="absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-cyan-900 animate-gradient-shift"></div>

  <!-- Animated Grid Pattern -->
  <div class="absolute inset-0 opacity-[0.03]">
    <div class="absolute inset-0 bg-[linear-gradient(to_right,#0891b2_1px,transparent_1px),linear-gradient(to_bottom,#0891b2_1px,transparent_1px)] bg-[size:60px_60px] animate-grid-pan-slow"></div>
  </div>

  <!-- Floating Gradient Orbs - Smooth & Subtle -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none" id="hero-orbs">
    <div class="absolute top-[20%] left-[20%] w-[500px] h-[500px] bg-gradient-to-br from-cyan-400/20 to-teal-400/15 rounded-full blur-3xl animate-float-slow"></div>
    <div class="absolute bottom-[20%] right-[20%] w-[400px] h-[400px] bg-gradient-to-tr from-teal-400/15 to-cyan-400/20 rounded-full blur-3xl animate-float-slow" style="animation-delay: -4s"></div>
    <div class="absolute top-[60%] left-[60%] w-[300px] h-[300px] bg-gradient-to-br from-purple-400/10 to-pink-400/10 rounded-full blur-3xl animate-float-slow" style="animation-delay: -2s"></div>
  </div>

  <!-- Floating Particles - Gentle & Elegant -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="particle" style="left: 10%; top: 20%; animation-delay: 0s;"></div>
    <div class="particle" style="left: 20%; top: 60%; animation-delay: -2s;"></div>
    <div class="particle" style="left: 30%; top: 40%; animation-delay: -4s;"></div>
    <div class="particle" style="left: 40%; top: 80%; animation-delay: -1s;"></div>
    <div class="particle" style="left: 50%; top: 30%; animation-delay: -3s;"></div>
    <div class="particle" style="left: 60%; top: 70%; animation-delay: -5s;"></div>
    <div class="particle" style="left: 70%; top: 50%; animation-delay: -2.5s;"></div>
    <div class="particle" style="left: 80%; top: 25%; animation-delay: -1.5s;"></div>
    <div class="particle" style="left: 90%; top: 65%; animation-delay: -3.5s;"></div>
  </div>

  <!-- <div class="relative z-10 max-w-7xl mx-auto px-6 py-20"> -->
    <div class="max-w-4xl mx-auto text-center">
      <!-- Badge - Animated Reveal -->
      <div class="inline-flex items-center gap-2 px-5 py-2.5 mb-10 bg-white/10 backdrop-blur-xl rounded-full border border-white/20 shadow-xl hero-reveal">
        <span class="w-2.5 h-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-teal-400 animate-pulse-soft"></span>
        <span class="text-xs font-bold tracking-[0.2em] text-white uppercase">{data.badge}</span>
      </div>

      <!-- Title - Word by Word Reveal -->
      <h1 class="text-4xl md:text-5xl lg:text-7xl font-black text-white mb-8 leading-tight hero-title">
        {data.title}
      </h1>

      <!-- Subtitle - Fade Up Smooth -->
      <p class="text-xl md:text-2xl text-gray-200 leading-relaxed mb-12 max-w-3xl mx-auto hero-subtitle">
        {data.subtitle}
      </p>

      <!-- CTA Buttons - Staggered Animation -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center hero-cta">
        <a
          href={contactUrl}
          class="group relative inline-flex items-center justify-center px-12 py-5 bg-gradient-to-r from-cyan-500 to-teal-500 text-white font-bold text-lg rounded-2xl shadow-2xl hover:shadow-cyan-500/50 hover:scale-105 transition-all duration-500 overflow-hidden btn-primary"
        >
          <span class="relative z-10 flex items-center gap-3">
            {data.cta}
            <svg class="w-6 h-6 group-hover:translate-x-1 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
            </svg>
          </span>
          <!-- Shimmer Effect -->
          <div class="absolute inset-0 -translate-x-full group-hover:animate-shimmer bg-gradient-to-r from-transparent via-white/30 to-transparent"></div>
          <!-- Glow Effect -->
          <div class="absolute inset-0 bg-gradient-to-r from-cyan-400/0 to-teal-400/0 group-hover:from-cyan-400/20 group-hover:to-teal-400/20 transition-opacity duration-500"></div>
        </a>

        <a
          href="#solutions"
          class="group relative inline-flex items-center justify-center px-12 py-5 bg-white/10 backdrop-blur-xl border-2 border-white/20 text-white font-bold text-lg rounded-2xl hover:bg-white/20 hover:scale-105 transition-all duration-300 btn-secondary"
        >
          {locale === 'id' ? 'Lihat Solusi' : 'View Solutions'}
          <svg class="w-6 h-6 ml-2 group-hover:translate-y-1 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
          </svg>
        </a>
      </div>

      <!-- Trust Indicators - Fade In Staggered -->
      <div class="flex flex-wrap items-center justify-center gap-8 mt-16 hero-trust">
        <div class="flex items-center gap-2 text-white/80 group/trust">
          <svg class="w-5 h-5 text-cyan-400 group-hover/trust:scale-110 transition-transform duration-300" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span class="text-sm font-semibold">{locale === 'id' ? '500+ Klien Puas' : '500+ Happy Clients'}</span>
        </div>
        <div class="w-px h-6 bg-white/20"></div>
        <div class="flex items-center gap-2 text-white/80 group/trust">
          <svg class="w-5 h-5 text-cyan-400 group-hover/trust:scale-110 transition-transform duration-300" fill="currentColor" viewBox="0 0 20 20">
            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
          </svg>
          <span class="text-sm font-semibold">{locale === 'id' ? 'Terpercaya #1' : 'Top Rated'}</span>
        </div>
        <div class="w-px h-6 bg-white/20"></div>
        <div class="flex items-center gap-2 text-white/80 group/trust">
          <span class="text-2xl animate-bounce-soft">ðŸš€</span>
          <span class="text-sm font-semibold">{locale === 'id' ? 'Hasil Terbukti' : 'Proven Results'}</span>
        </div>
      </div>

      <!-- Scroll Indicator -->
    </div>
    <div class="absolute bottom-5 left-1/2 transform -translate-x-1/2 animate-bounce-soft">
      <div class="flex flex-col items-center gap-2 text-white/60">
        <span class="text-xs font-semibold uppercase tracking-wider">{locale === 'id' ? 'Scroll' : 'Scroll'}</span>
        <svg class="w-5 h-5 animate-scroll-down" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
        </svg>
      </div>
    </div>
  </section>

<style>
  /* Hero Animations - Smooth & Comfortable */
  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes float-slow {
    0%, 100% {
      transform: translateY(0px) scale(1);
      opacity: 0.6;
    }
    50% {
      transform: translateY(-20px) scale(1.05);
      opacity: 0.8;
    }
  }

  @keyframes particle-float {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0;
    }
    10% {
      opacity: 0.6;
    }
    90% {
      opacity: 0.6;
    }
    100% {
      transform: translate(var(--tx, 0px), var(--ty, -100px)) scale(0.5);
      opacity: 0;
    }
  }

  @keyframes pulse-soft {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.05);
    }
  }

  @keyframes bounce-soft {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-5px);
    }
  }

  @keyframes scroll-down {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(5px);
    }
  }

  @keyframes grid-pan-slow {
    0% {
      transform: translateX(0) translateY(0);
    }
    100% {
      transform: translateX(-30px) translateY(-30px);
    }
  }

  @keyframes reveal-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-gradient-shift {
    background-size: 200% 200%;
    animation: gradient-shift 15s ease infinite;
  }

  .animate-float-slow {
    animation: float-slow 12s ease-in-out infinite;
  }

  .animate-pulse-soft {
    animation: pulse-soft 3s ease-in-out infinite;
  }

  .animate-bounce-soft {
    animation: bounce-soft 2s ease-in-out infinite;
  }

  .animate-scroll-down {
    animation: scroll-down 1.5s ease-in-out infinite;
  }

  .animate-grid-pan-slow {
    animation: grid-pan-slow 30s ease-in-out infinite alternate;
  }

  /* Particle Styles */
  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: linear-gradient(135deg, #22d3ee, #14b8a6);
    border-radius: 50%;
    animation: particle-float 15s linear infinite;
    opacity: 0;
  }

  /* Hero Element Animations */
  .hero-reveal {
    opacity: 0;
    animation: reveal-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: 0.2s;
  }

  .hero-title {
    opacity: 0;
    animation: reveal-up 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: 0.4s;
  }

  .hero-subtitle {
    opacity: 0;
    animation: reveal-up 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: 0.6s;
  }

  .hero-cta > * {
    opacity: 0;
    animation: reveal-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .hero-cta > *:nth-child(1) {
    animation-delay: 0.8s;
  }

  .hero-cta > *:nth-child(2) {
    animation-delay: 1s;
  }

  .hero-trust > * {
    opacity: 0;
    animation: reveal-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .hero-trust > *:nth-child(1) {
    animation-delay: 1.2s;
  }

  .hero-trust > *:nth-child(2) {
    animation-delay: 1.3s;
  }

  .hero-trust > *:nth-child(3) {
    animation-delay: 1.4s;
  }

  .hero-trust > *:nth-child(4) {
    animation-delay: 1.5s;
  }

  .hero-trust > *:nth-child(5) {
    animation-delay: 1.6s;
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    .particle {
      display: none;
    }
  }
</style>

<script>
  // Hero Mouse Parallax & Animations
  document.addEventListener('DOMContentLoaded', () => {
    // Check for reduced motion preference
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    if (!prefersReducedMotion) {
      // Hero Mouse Parallax Effect
      const heroSection = document.getElementById('hero');
      const heroOrbs = document.getElementById('hero-orbs');

      if (heroSection && heroOrbs) {
        heroSection.addEventListener('mousemove', (e) => {
          const { clientX, clientY } = e;
          const { innerWidth, innerHeight } = window;

          // Calculate mouse position relative to center (-1 to 1)
          const x = (clientX / innerWidth - 0.5) * 2;
          const y = (clientY / innerHeight - 0.5) * 2;

          // Apply subtle parallax to orbs
          const orbs = heroOrbs.children;
          Array.from(orbs).forEach((orb, index) => {
            const speed = (index + 1) * 10;
            const translateX = x * speed;
            const translateY = y * speed;
            orb.style.transform = `translate(${translateX}px, ${translateY}px)`;
          });
        });

        // Reset on mouse leave
        heroSection.addEventListener('mouseleave', () => {
          const orbs = heroOrbs.children;
          Array.from(orbs).forEach((orb) => {
            orb.style.transform = 'translate(0, 0)';
          });
        });
      }

      // Initialize particle positions with random values
      const particles = document.querySelectorAll('.particle');
      particles.forEach((particle) => {
        const tx = (Math.random() - 0.5) * 100;
        const ty = -100 - Math.random() * 200;
        particle.style.setProperty('--tx', `${tx}px`);
        particle.style.setProperty('--ty', `${ty}px`);
      });
    }
  });
</script>
