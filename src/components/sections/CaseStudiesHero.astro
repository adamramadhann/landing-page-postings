---
// src/components/sections/CaseStudiesHero.astro
// Hero Section for Case Studies Page with Featured Case
import AnimateOnScroll from '../ui/AnimateOnScroll.astro';

interface Props {
  locale: 'id' | 'en';
  data: {
    badge: string;
    title: string;
    subtitle: string;
    description: string;
  };
  featuredCase: {
    brand: string;
    product: string;
    logo: string;
    color: string;
    image: string;
    results: Array<{
      metric: string;
      label: { id: string; en: string };
    }>;
  };
  stats: Array<{
    value: string;
    label: { id: string; en: string };
  }>;
}

const { locale, data, featuredCase, stats } = Astro.props;
---

<section class="relative min-h-screen flex items-center overflow-hidden" id="hero">
  <!-- Background Image with Overlay -->
  <div class="absolute inset-0">
    <img
      src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&q=80"
      alt="Case Studies Background"
      class="w-full h-full object-cover"
    />
    <div class="absolute inset-0 bg-gradient-to-br from-gray-900/95 via-gray-800/90 to-gray-900/95"></div>

    <!-- Animated Grid Pattern -->
    <div class="absolute inset-0 opacity-[0.03]">
      <div class="absolute inset-0 bg-[linear-gradient(to_right,#0891b2_1px,transparent_1px),linear-gradient(to_bottom,#0891b2_1px,transparent_1px)] bg-[size:60px_60px] animate-grid-pan"></div>
    </div>

    <!-- Floating Gradient Orbs -->
    <div class="absolute top-40 left-20 w-[500px] h-[500px] bg-gradient-to-br from-cyan-400/20 to-teal-400/15 rounded-full blur-3xl animate-float"></div>
    <div class="absolute bottom-40 right-20 w-[400px] h-[400px] bg-gradient-to-tr from-blue-400/20 to-teal-400/15 rounded-full blur-3xl animate-float" style="animation-delay: -4s"></div>

    <!-- Floating Particles -->
    <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-cyan-400 rounded-full animate-float-particle opacity-30"></div>
    <div class="absolute top-1/3 right-1/3 w-3 h-3 bg-teal-400 rounded-full animate-float-particle opacity-20" style="animation-delay: -1s"></div>
    <div class="absolute bottom-1/4 left-1/3 w-2 h-2 bg-blue-400 rounded-full animate-float-particle opacity-25" style="animation-delay: -2s"></div>
  </div>

  <div class="relative z-10 max-w-7xl mx-auto px-6 lg:px-8">
    <div class="grid lg:grid-cols-2 gap-12 items-center">
      <!-- Left Content -->
      <AnimateOnScroll animation="fade-up" delay={0} duration={800}>
        <div class="space-y-8">
          <!-- Badge -->
          <div class="inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-cyan-500/20 backdrop-blur-xl border border-cyan-400/30">
            <span class="w-2.5 h-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-teal-400 animate-pulse"></span>
            <span class="text-sm font-bold text-cyan-400 uppercase tracking-wider">{data.badge}</span>
          </div>

          <!-- Title -->
          <h1 class="text-5xl lg:text-7xl font-black text-white leading-tight">
            {data.title}
            <span class="block mt-2 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-teal-400">
              {data.subtitle}
            </span>
          </h1>

          <!-- Description -->
          <p class="text-xl text-gray-300 leading-relaxed max-w-xl">
            {data.description}
          </p>

          <!-- Quick Stats -->
          <div class="flex flex-wrap gap-8 pt-4">
            {stats.map((stat) => (
              <div class="text-center">
                <div class="text-4xl font-black text-white">{stat.value}</div>
                <div class="text-sm text-gray-400">{stat.label[locale]}</div>
              </div>
            ))}
          </div>
        </div>
      </AnimateOnScroll>

      <!-- Right - Featured Case Card -->
      <AnimateOnScroll animation="fade-up" delay={200} duration={800}>
        <div class="relative">
          <div class="relative bg-white/10 backdrop-blur-xl rounded-3xl overflow-hidden border border-white/20 shadow-2xl hover:shadow-cyan-500/20 transition-all duration-500">
            <div class="aspect-[4/3] overflow-hidden">
              <img src={featuredCase.image} alt={featuredCase.brand} class="w-full h-full object-cover transform hover:scale-105 transition-transform duration-700" />
              <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>

              <div class="absolute bottom-0 left-0 right-0 p-8">
                <div class="flex items-center gap-4 mb-4">
                  <div class={`w-16 h-16 rounded-2xl bg-gradient-to-br ${featuredCase.color} flex items-center justify-center text-white font-black text-3xl shadow-xl transform hover:scale-110 transition-transform duration-300`}>
                    {featuredCase.logo}
                  </div>
                  <div>
                    <h3 class="text-3xl font-black text-white">{featuredCase.brand}</h3>
                    <p class="text-white/80 font-medium">{featuredCase.product}</p>
                  </div>
                </div>

                <div class="flex gap-4">
                  {featuredCase.results.slice(0, 3).map((result, i) => (
                    <div key={i} class="px-4 py-3 bg-white/20 backdrop-blur-sm rounded-xl">
                      <div class="text-2xl font-black text-white">{result.metric}</div>
                      <div class="text-xs text-white/80 uppercase tracking-wider">{result.label[locale]}</div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        </div>
      </AnimateOnScroll>
    </div>
  </div>
</section>

<style>
  @keyframes float {
    0%, 100% {
      transform: translateY(0px) scale(1);
    }
    50% {
      transform: translateY(-30px) scale(1.1);
    }
  }

  @keyframes float-particle {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0.6;
    }
    25% {
      transform: translate(20px, -30px) scale(1.1);
      opacity: 0.8;
    }
    50% {
      transform: translate(-10px, -50px) scale(0.9);
      opacity: 0.5;
    }
    75% {
      transform: translate(30px, -20px) scale(1.05);
      opacity: 0.7;
    }
  }

  @keyframes grid-pan {
    0% {
      transform: translateX(0) translateY(0);
    }
    100% {
      transform: translateX(-30px) translateY(-30px);
    }
  }

  .animate-float {
    animation: float 8s ease-in-out infinite;
  }

  .animate-float-particle {
    animation: float-particle 10s ease-in-out infinite;
  }

  .animate-grid-pan {
    animation: grid-pan 15s ease-in-out infinite alternate;
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
</style>
